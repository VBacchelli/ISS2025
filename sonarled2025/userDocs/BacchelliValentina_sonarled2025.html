<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
    <!--
<link rel="stylesheet" type="text/css" href="../css/issStyle1.css">
<script type="text/javascript" src="../css/issStyle.js"></script>
-->
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/foundation-sites@6.7.4/dist/css/foundation.min.css" crossorigin="anonymous">
		<script src="https://cdn.jsdelivr.net/npm/foundation-sites@6.7.4/dist/js/foundation.min.js"crossorigin="anonymous"></script> 
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" type="text/css" href="./commons/resources/styles/templateISS.css">
        <link rel="stylesheet" type="text/css" href="./commons/resources/styles/main.css">
        <link rel="stylesheet" type="text/css" href="./commons/resources/styles/navbar.css">
        <link rel="stylesheet" type="text/css" href="./commons/resources/styles/table.css">
        <link rel="stylesheet" type="text/css" href="./commons/resources/styles/code.css">
        <!-- <script type="text/javascript" src="./commons/resources/scripts/myScripts.js"></script> -->
<style type="text/css">
body
{
    margin-left:  30px;
    margin-right: 30px;
};

P
{
    font-family: Tahoma;
    font-size: 10pt;
};

a, a:visited, a:active, a:link, a:hover {
    text-decoration: underline;
    color: #545454;
    background-color: transparent;
	font-size: 93%;
}

a:hover {
    background-color: #cccccc;
}


hr {
    clear: both;
    height: 1px;
    color: #242424;
    background-color: transparent;
}

h1, h2, h3 {
    color: #242424;
    clear: left;
    font: 100% Tahoma, Helvetica, Arial, sans-serif;
    margin-bottom: 0.5em;
    padding-top: 0.5em;
	border-radius: 10px;
	padding: 5px;
}

top {
	width: 100%;
}


#i {
    color: #ff1010;
}
tt{
	font-family: "Arial";
    font-size: 90%;
	color: #006600;
}
em{
	font-family: "Arial";
    font-size: 80%;
	font-weight: bold;
	border-style:solid;
	border-color: #abe876;
    color: #1632cc;
}
bc{
	font-family: "Arial";
	font-size: 90%;
	font-weight: bold;
    color: #990000;
	background-color: #fcf8c7;
}
ks{
	font-family: "Arial";
	font-weight: bold;
    color: #0000CD	;
	font-size: 90%;
}
kc{
	font-family: "Arial";
	font-weight: bold;
    color: #008000	;
	font-size: 90%;
}
pre{
	font-family: "Consolas";
	font-size: 85%;
	background-color: #f5f5f5;
	border: 1.5px solid silver;
	padding: 5px;
}
m{
	font-family: "Helvetica";
	line-height: 100%;
 	font-size: 75%;
}
div.body{
	 
    font-size: 18px;
}
k{
    color: #990000;
	font-weight: bold;
	font-size: 90%;
}
h1 {
    font-size: 150%;
    background-color: #b2c0ff;
	padding: 10px;
}

h2 {
    background-color: #9ed8ff;
    font-size: 130%;
}

h3 {
	background-color: #e6ccff;
    font-size: 100%;
}
h4 {
    background-color: #ccffcc;
    font-size: 100%;
	width: 95%;
	border-radius: 5px;
	padding: 2px;
}
h5 {
    background-color: #d5ffb0;
    font-size: 100%;

}
div.req{
	background-color: #d9ffb3;
    font-size: 18px;
	width: 700px;
    border: 3px solid green;
    padding: 15px;
    margin: 10px;
}
div.remark{
	background-color: #E3F2FD;
    border: 1.5px solid #d5f2ed;
    padding: 15px;
    margin: 10px;
	border-radius: 25px;
}
table, th, td {
  border: 1px solid black;
  border-collapse: collapse;
}

ol, ul, li {
  margin: 0;
  margin-left: 10px;
  padding: 0;
  padding-bottom: 5px;
}

table, th, td {
	border: 1px solid black;
}

img {
	border: 1.5px solid #d5f2ed

}

a, a:visited, a:active, a:link, a:hover {
    text-decoration: underline;
    color: #545454;
    background-color: transparent;
}

div.wrapdesc{
	width: 90%;
	margin: auto;
}

div.imagedesc{
	width: 85%;
	margin: auto;
}
</style>
    
 
   
</head>
	
		
  


   
<title>ConwayGUI</title></head>
    
<!--
	<body onload="loadNav();">
		<div id="openButton" class="openButton" onclick="openNav(true)">&#9776; Menu</div>
		<div id="sidenav" class="sidenav">
			<a class="closeButton" href="javascript:void(0)" onclick="closeNav(true)">&times;</a>
			<a href=".README.html">ReadMe</a>
			<a class="sprint" href="../../../Sprint0/Codice/userDocs/Cold%20Storage%20Service%20-%20Natali%20V3.html">Sprint0</a>
			<a class="sprint" href="../../../Sprint1.0/Codice/userDocs/Sprint%201.0%20-%20V3.html">Sprint1.0</a>
			<a class="sprint" href="../../../Sprint1.1/Codice/userDocs/Sprint%201.1%20-%20V3.html">Sprint1.1</a>
			<a id="currentSprint" class="sprint" href="#">&#8211;&#8212; Sprint2 &#8212;&#8211;</a>
			<div class="sidenavSection">
				<a href="#Goal Sprint 2">Goal Sprint 2</a>
				<a href="#Requisiti">Requisiti</a>
				<a href="#Analisi dei Requisiti">Analisi dei Requisiti</a>
				<a href="#Analisi del Problema">Analisi del Problema</a>
				<a href="#Test Plan">Test Plan</a>
				<a href="#Progettazione">Progettazione</a>
				<a href="#Deployment">Deployment</a>
			</div>
			<p class="separator">&mdash;&mdash;&mdash;&ndash;&ndash;&mdash;&mdash;&mdash;</p>
			<a class="sprint" href="../../../Sprint3/Codice/userDoc/Sprint%203.html">Sprint3</a>
			<bottom-spacer/>
		</div>
-->
<body>
<div id="top">
<h1>LABORATORIO DI INGEGNERIA DEI SISTEMI SOFTWARE <font size="5"></font> </h1>
</div>  

<div class="body"> 
<h2>Introduction</h2>
<p>Un actor che gestisce un Sonar connesso a un RaspberryPi, rendendo disponibile a componenti interessati (locali o remoti) la distanza rilevata. Se la distanza è inferione a un valore prefissato LIMIT deve accendere il Led.</p>

<h2>Requirements</h2>
<div>
	<p>Sviluppare un componente software che utilizza il SONAR HC-SR04 e che sia in grado di:
		<ul>
			<li>ricevere via rete ed eseguire comandi di sonarstart/sonarstop</li>
			<li>inviare ad altri componenti software i valori di distanza rilevati, filtrati in modo che ogni valore D emesso sia un valore intero tale che <span class="pre">0&lt;D&lt;=150</span></li>
		</ul>
	</p>
</div> 

<h2>Requirement analysis</h2>
<div>
	<p>I comandi di start e stop del sonar devono essere ricevuti via rete, presumo (anche se non ne sono certa leggendo solamente la consegna) che si intenda da componenti Caller come quelli realizzati in Java nel progetto precedente (rasp2025ledalone). Questo si può realizzare con diversi protocolli, appunto come nel progetto precedente, perciò possiamo riutilizzare quegli stessi componenti Caller con minime modifiche.</p>
	<p></p>
</div>
<h3>Software fornito dal committente</h3>
<div>
	<ul><p><li>sonar.py: codice in python che attiva il sonar fisico e scrive sul dispositivo standard di output, a intervalli temporali fissi, i valori della distanza corrente rilevata.</li></p></ul>
	<p>Questo è codice di basso livello che non contiene la logica di comunicazione necessaria. </p>
</div>

<h2>Problem analysis</h2>
<h3>Considerazioni personali</h3>
<ol>
<li><p>Inizialmente, ho pensato di iniziare con una struttura simile a quella del progetto precedente: un attore che gestisse i dispatch e 3 attori in grado di ricevere i vari tipi di eventi emessi. </p></li>
<li><p>Il primo problema che si pone è come l'attore gestore del sonar possa recuperare la distanza misurata. Il codice python a nostra disposizione scrive su standard output, quindi avremo bisogno di un attore che sia in grado di leggere questi messaggi. Questo però ci vincola ad avere l'attore in esecuzione sul raspberry.</p></li>
<li><p>Per quanto riguarda la trasmissione della distanza misurata ai componenti interessati,  l’attore che controlla il sonar deve in qualche modo riuscire a comunicare con gli altri attori del sistema. Questo significa che dovrebbe conoscerli tutti per nome oppure avere un riferimento diretto a ciascuno di loro. Usare MQTT semplifica molto le cose: invece di gestire ogni singolo collegamento, basta che l’attore parli con il broker, che poi si occupa di smistare i messaggi.</p>
<p>Con QAK questo risulta ancora più semplice grazie al concetto di contesto e all'emissione di eventi: ci basta far emettere un evento contenente il valore di distanza dall'attore che gestisce il sonar.</p></li>
</ul>
<h3>Analisi formale del problema</h3>
<p>Si rimanda all'<a href="RaspApplCode24.html#progetto-sonarqak24">analisi già svolta a lezione</a></p>
<p>N.B. senza questa avrei pensato di fare meno attori; perché non unire in un attore unico sonar24 e sonardevice? Immagino sia migliore per la modularizzazione in caso di progetti più grandi, ma per il nostro caso mi sembra quasi esagerato dividere le responsabilità. Questa mia idea è supportata dal fatto che nei requisiti si parli di un attore che "gestisce" il sonar e rende disponibile la distanza a componenti interessati; da queste parole sembra quindi che sia un attore unico a fare da broker, ad avviare e fermare il sonar e a leggere la distanza misurata.</p>
<p>Pensando al punto 2 delle mie considerazioni, inizia già a sembrarmi più logica questa separazione: posso avere un attore locale che legge da standard output, e pubblica le distanze su un topic MQTT. Tuttavia le responsabilità dei singoli componenti rimangono poche nonostante questa considerazione e si potrebbero comunque unire a mio parere.</p>


<h2>Progettazione</h2>
<p>La prima parte della progettazione è già stata <a href="RaspApplCode24.html#progetto-sonarqak24">svolta a lezione</a></p>

<p>Si tratta qui invece la parte di progettazione relativa al SistemaRilevamento.</p>


<h2>Test plans</h2> 
<div>
	<p>La parte di testing sul Raspberry sarà svolta in un momento successivo perché non ho con me il materiale necessario.</p>
</div>

<!-- USEFUL
<table style="width:100%" border="1">
<tr>
<td style="width:50%">
</td>
<td></td>
</tr>
</table>
-->
	      	
<br/><br/> 	
</div>  

<div style="background-color:rgba(86, 56, 253, 0.9); width:60%;text-align:left;color:white">
	By Bacchelli Valentina email: valentina.bacchelli@studio.unibo.it, 
	<!-- <img src="./img/mbot-S.jpg" alt="mbot" width="15%" height="15%"> -->
	<img src="_images/vale.jpg" alt="valentina bacchelli" width="15%" height="15%">
	GIT repo: https://github.com/VBacchelli/ISS2025
</div>
</body>
</html>